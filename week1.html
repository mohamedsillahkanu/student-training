<div class="notes-content">
    <div class="note-section">
        <h2>📅 Week 3: Exploratory Data Analysis (EDA) & Visualization for Malaria Data</h2>
        
        <p>This week, we will:<br>
        ✅ <strong>Master descriptive statistics & summary tables</strong> for malaria datasets<br>
        ✅ <strong>Learn to handle missing values</strong> with <code>na.omit()</code> and <code>tidyr::replace_na()</code><br>
        ✅ <strong>Create effective visualizations with <code>ggplot2</code></strong> for malaria data analysis</p>
        
        <h3>1️⃣ Descriptive Statistics & Summary Tables</h3>
        
        <h4>What is Exploratory Data Analysis (EDA)?</h4>
        <p>📌 <strong>EDA</strong> is the process of analyzing data sets to summarize their main characteristics, often using visual methods. It's a critical first step before building complex models.</p>
        
        <h4>Step 1: Basic Summary Statistics</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Load our malaria dataset</span><br>
<span class="r-variable">malaria_data</span> <span class="r-operator">&lt;-</span> <span class="r-function">read.csv</span><span class="r-bracket">(</span><span class="r-string">"malaria_dataset.csv"</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Generate basic summary statistics</span><br>
<span class="r-variable">summary_stats</span> <span class="r-operator">&lt;-</span> <span class="r-function">summary</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">)</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">summary_stats</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>summary()</code> provides basic statistics for each column: min, max, mean, median, and quartiles<br>
            ✔ For categorical variables, it shows counts of each level</p>
        </div>
        
        <h4>Step 2: Group-wise Statistics</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Load dplyr for data manipulation</span><br>
<span class="r-function">library</span><span class="r-bracket">(</span><span class="r-variable">dplyr</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Calculate mean malaria cases by region</span><br>
<span class="r-variable">region_stats</span> <span class="r-operator">&lt;-</span> <span class="r-variable">malaria_data</span> <span class="r-operator">%&gt;%</span><br>
  <span class="r-function">group_by</span><span class="r-bracket">(</span><span class="r-variable">region</span><span class="r-bracket">)</span> <span class="r-operator">%&gt;%</span><br>
  <span class="r-function">summarize</span><span class="r-bracket">(</span><br>
    <span class="r-parameter">mean_cases</span> <span class="r-operator">=</span> <span class="r-function">mean</span><span class="r-bracket">(</span><span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-parameter">na.rm</span> <span class="r-operator">=</span> <span class="r-boolean">TRUE</span><span class="r-bracket">)</span><span class="r-operator">,</span><br>
    <span class="r-parameter">median_cases</span> <span class="r-operator">=</span> <span class="r-function">median</span><span class="r-bracket">(</span><span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-parameter">na.rm</span> <span class="r-operator">=</span> <span class="r-boolean">TRUE</span><span class="r-bracket">)</span><span class="r-operator">,</span><br>
    <span class="r-parameter">min_cases</span> <span class="r-operator">=</span> <span class="r-function">min</span><span class="r-bracket">(</span><span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-parameter">na.rm</span> <span class="r-operator">=</span> <span class="r-boolean">TRUE</span><span class="r-bracket">)</span><span class="r-operator">,</span><br>
    <span class="r-parameter">max_cases</span> <span class="r-operator">=</span> <span class="r-function">max</span><span class="r-bracket">(</span><span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-parameter">na.rm</span> <span class="r-operator">=</span> <span class="r-boolean">TRUE</span><span class="r-bracket">)</span><br>
  <span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>group_by()</code> allows us to perform operations by group (e.g., region)<br>
            ✔ <code>summarize()</code> computes summary statistics for each group<br>
            ✔ <code>na.rm = TRUE</code> ensures we ignore missing values in our calculations</p>
        </div>
        
        <h4>Step 3: Frequency Tables</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Create frequency table for severity levels</span><br>
<span class="r-variable">severity_table</span> <span class="r-operator">&lt;-</span> <span class="r-function">table</span><span class="r-bracket">(</span><span class="r-variable">malaria_data$severity</span><span class="r-bracket">)</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">severity_table</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Calculate proportion table</span><br>
<span class="r-variable">severity_prop</span> <span class="r-operator">&lt;-</span> <span class="r-function">prop.table</span><span class="r-bracket">(</span><span class="r-variable">severity_table</span><span class="r-bracket">)</span> <span class="r-operator">*</span> <span class="r-number">100</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">severity_prop</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>table()</code> counts occurrences of each category in a variable<br>
            ✔ <code>prop.table()</code> converts counts to proportions (multiplied by 100 for percentages)</p>
        </div>
        
        <h4>Step 4: Cross-tabulation</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Create cross-tabulation of region and severity</span><br>
<span class="r-variable">region_severity_table</span> <span class="r-operator">&lt;-</span> <span class="r-function">table</span><span class="r-bracket">(</span><span class="r-variable">malaria_data$region</span><span class="r-operator">,</span> <span class="r-variable">malaria_data$severity</span><span class="r-bracket">)</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">region_severity_table</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Calculate chi-square test for association</span><br>
<span class="r-variable">chisq_test</span> <span class="r-operator">&lt;-</span> <span class="r-function">chisq.test</span><span class="r-bracket">(</span><span class="r-variable">region_severity_table</span><span class="r-bracket">)</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">chisq_test</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ Cross-tabulation shows the relationship between two categorical variables<br>
            ✔ <code>chisq.test()</code> tests whether there's a significant association between region and severity</p>
        </div>
    </div>

    <div class="note-section">
        <h3>2️⃣ Handling Missing Values in Malaria Data</h3>
        
        <h4>Step 1: Identifying Missing Values</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Check for missing values in the dataset</span><br>
<span class="r-variable">missing_values</span> <span class="r-operator">&lt;-</span> <span class="r-function">colSums</span><span class="r-bracket">(</span><span class="r-function">is.na</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">))</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">missing_values</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Calculate the percentage of missing values</span><br>
<span class="r-variable">missing_percentage</span> <span class="r-operator">&lt;-</span> <span class="r-function">colMeans</span><span class="r-bracket">(</span><span class="r-function">is.na</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">))</span> <span class="r-operator">*</span> <span class="r-number">100</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-variable">missing_percentage</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>is.na()</code> identifies missing values in the dataset<br>
            ✔ <code>colSums()</code> sums the missing values in each column<br>
            ✔ <code>colMeans()</code> calculates the proportion of missing values in each column</p>
        </div>
        
        <h4>Step 2: Removing Rows with Missing Values</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Remove rows with any missing values</span><br>
<span class="r-variable">complete_data</span> <span class="r-operator">&lt;-</span> <span class="r-function">na.omit</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Check how many rows were removed</span><br>
<span class="r-variable">original_rows</span> <span class="r-operator">&lt;-</span> <span class="r-function">nrow</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">)</span><br>
<span class="r-variable">complete_rows</span> <span class="r-operator">&lt;-</span> <span class="r-function">nrow</span><span class="r-bracket">(</span><span class="r-variable">complete_data</span><span class="r-bracket">)</span><br>
<span class="r-variable">removed_rows</span> <span class="r-operator">&lt;-</span> <span class="r-variable">original_rows</span> <span class="r-operator">-</span> <span class="r-variable">complete_rows</span><br>
<span class="r-function">print</span><span class="r-bracket">(</span><span class="r-function">paste</span><span class="r-bracket">(</span><span class="r-string">"Removed"</span><span class="r-operator">,</span> <span class="r-variable">removed_rows</span><span class="r-operator">,</span> <span class="r-string">"rows with missing data"</span><span class="r-bracket">))</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>na.omit()</code> removes any row that contains at least one missing value<br>
            ✔ This is a simple approach but may remove too much data if missing values are common</p>
        </div>
        
        <h4>Step 3: Replacing Missing Values with tidyr</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Load tidyr package</span><br>
<span class="r-function">library</span><span class="r-bracket">(</span><span class="r-variable">tidyr</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Replace missing values in 'cases' with the mean</span><br>
<span class="r-variable">malaria_data_imputed</span> <span class="r-operator">&lt;-</span> <span class="r-variable">malaria_data</span> <span class="r-operator">%&gt;%</span><br>
  <span class="r-function">mutate</span><span class="r-bracket">(</span><span class="r-parameter">cases</span> <span class="r-operator">=</span> <span class="r-function">replace_na</span><span class="r-bracket">(</span><span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-function">mean</span><span class="r-bracket">(</span><span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-parameter">na.rm</span> <span class="r-operator">=</span> <span class="r-boolean">TRUE</span><span class="r-bracket">)))</span><br>
<span class="r-comment"># Replace missing values in 'severity' with "Unknown"</span><br>
<span class="r-variable">malaria_data_imputed</span> <span class="r-operator">&lt;-</span> <span class="r-variable">malaria_data_imputed</span> <span class="r-operator">%&gt;%</span><br>
  <span class="r-function">mutate</span><span class="r-bracket">(</span><span class="r-parameter">severity</span> <span class="r-operator">=</span> <span class="r-function">replace_na</span><span class="r-bracket">(</span><span class="r-variable">severity</span><span class="r-operator">,</span> <span class="r-string">"Unknown"</span><span class="r-bracket">))</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>tidyr::replace_na()</code> replaces NA values with specified replacements<br>
            ✔ For numeric columns, we often replace with mean, median, or zero<br>
            ✔ For categorical columns, we may replace with a new category like "Unknown"</p>
        </div>
        
        <h4>Step 4: Missing Value Visualization</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Install and load packages for missing data visualization</span><br>
<span class="r-function">install.packages</span><span class="r-bracket">(</span><span class="r-string">"naniar"</span><span class="r-bracket">)</span><br>
<span class="r-function">library</span><span class="r-bracket">(</span><span class="r-variable">naniar</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Create a visualization of missing data patterns</span><br>
<span class="r-function">gg_miss_var</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Create a matrix of missing data patterns</span><br>
<span class="r-function">vis_miss</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>naniar</code> package provides specialized tools for exploring missing data<br>
            ✔ <code>gg_miss_var()</code> creates a plot showing the count of missing values by variable<br>
            ✔ <code>vis_miss()</code> creates a matrix visualization of missing values throughout the dataset</p>
        </div>
    </div>

    <div class="note-section">
        <h3>3️⃣ Data Visualization with ggplot2 for Malaria Analysis</h3>
        
        <h4>Step 1: Installing and Loading ggplot2</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Install and load ggplot2</span><br>
<span class="r-function">install.packages</span><span class="r-bracket">(</span><span class="r-string">"ggplot2"</span><span class="r-bracket">)</span><br>
<span class="r-function">library</span><span class="r-bracket">(</span><span class="r-variable">ggplot2</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>ggplot2</code> is a powerful visualization package based on the Grammar of Graphics<br>
            ✔ It creates visualizations by layering components (data, aesthetics, geometries)</p>
        </div>
        
        <h4>Step 2: Creating Histograms</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Create a histogram of malaria cases</span><br>
<span class="r-function">ggplot</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-operator">,</span> <span class="r-function">aes</span><span class="r-bracket">(</span><span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-variable">cases</span><span class="r-bracket">))</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_histogram</span><span class="r-bracket">(</span><span class="r-parameter">binwidth</span> <span class="r-operator">=</span> <span class="r-number">50</span><span class="r-operator">,</span> <span class="r-parameter">fill</span> <span class="r-operator">=</span> <span class="r-string">"steelblue"</span><span class="r-operator">,</span> <span class="r-parameter">color</span> <span class="r-operator">=</span> <span class="r-string">"white"</span><span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">labs</span><span class="r-bracket">(</span><br>
    <span class="r-parameter">title</span> <span class="r-operator">=</span> <span class="r-string">"Distribution of Malaria Cases"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-string">"Number of Cases"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-string">"Frequency"</span><br>
  <span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme_minimal</span><span class="r-bracket">()</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>ggplot()</code> initializes the plot with data and aesthetic mappings<br>
            ✔ <code>geom_histogram()</code> adds a histogram layer with specified bin width<br>
            ✔ <code>labs()</code> adds titles and labels<br>
            ✔ <code>theme_minimal()</code> applies a clean, minimal theme</p>
        </div>
        
        <h4>Step 3: Creating Boxplots</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Create boxplots of cases by region</span><br>
<span class="r-function">ggplot</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-operator">,</span> <span class="r-function">aes</span><span class="r-bracket">(</span><span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-variable">region</span><span class="r-operator">,</span> <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-variable">cases</span><span class="r-operator">,</span> <span class="r-parameter">fill</span> <span class="r-operator">=</span> <span class="r-variable">region</span><span class="r-bracket">))</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_boxplot</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">labs</span><span class="r-bracket">(</span><br>
    <span class="r-parameter">title</span> <span class="r-operator">=</span> <span class="r-string">"Malaria Cases by Region"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-string">"Region"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-string">"Number of Cases"</span><br>
  <span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme_minimal</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme</span><span class="r-bracket">(</span><span class="r-parameter">legend.position</span> <span class="r-operator">=</span> <span class="r-string">"none"</span><span class="r-bracket">)</span> <span class="r-comment"># Remove legend as it's redundant</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>geom_col()</code> creates bars with heights proportional to values<br>
            ✔ First we aggregate the data, then visualize the aggregated stats</p>
        </div>
        
        <h4>Step 5: Time Series Line Plots</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Create a time series plot of malaria cases</span><br>
<span class="r-function">ggplot</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-operator">,</span> <span class="r-function">aes</span><span class="r-bracket">(</span><span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-variable">date</span><span class="r-operator">,</span> <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-variable">cases</span><span class="r-bracket">))</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_line</span><span class="r-bracket">(</span><span class="r-parameter">color</span> <span class="r-operator">=</span> <span class="r-string">"darkred"</span><span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_point</span><span class="r-bracket">(</span><span class="r-parameter">color</span> <span class="r-operator">=</span> <span class="r-string">"darkred"</span><span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">labs</span><span class="r-bracket">(</span><br>
    <span class="r-parameter">title</span> <span class="r-operator">=</span> <span class="r-string">"Malaria Cases Over Time"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-string">"Date"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-string">"Number of Cases"</span><br>
  <span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme_minimal</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">scale_x_date</span><span class="r-bracket">(</span><span class="r-parameter">date_breaks</span> <span class="r-operator">=</span> <span class="r-string">"1 month"</span><span class="r-operator">,</span> <span class="r-parameter">date_labels</span> <span class="r-operator">=</span> <span class="r-string">"%b %Y"</span><span class="r-bracket">)</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>geom_line()</code> connects points with lines to show trends over time<br>
            ✔ <code>geom_point()</code> adds points at each observation<br>
            ✔ <code>scale_x_date()</code> formats the x-axis for date data</p>
        </div>
        
        <h4>Step 6: Faceted Plots</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Create faceted plots by region</span><br>
<span class="r-function">ggplot</span><span class="r-bracket">(</span><span class="r-variable">malaria_data</span><span class="r-operator">,</span> <span class="r-function">aes</span><span class="r-bracket">(</span><span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-variable">date</span><span class="r-operator">,</span> <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-variable">cases</span><span class="r-bracket">))</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_line</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_point</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">facet_wrap</span><span class="r-bracket">(</span><span class="r-operator">~</span><span class="r-variable">region</span><span class="r-operator">,</span> <span class="r-parameter">scales</span> <span class="r-operator">=</span> <span class="r-string">"free_y"</span><span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">labs</span><span class="r-bracket">(</span><br>
    <span class="r-parameter">title</span> <span class="r-operator">=</span> <span class="r-string">"Malaria Cases Over Time by Region"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-string">"Date"</span><span class="r-operator">,</span><br>
    <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-string">"Number of Cases"</span><br>
  <span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme_minimal</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme</span><span class="r-bracket">(</span><span class="r-parameter">axis.text.x</span> <span class="r-operator">=</span> <span class="r-function">element_text</span><span class="r-bracket">(</span><span class="r-parameter">angle</span> <span class="r-operator">=</span> <span class="r-number">45</span><span class="r-operator">,</span> <span class="r-parameter">hjust</span> <span class="r-operator">=</span> <span class="r-number">1</span><span class="r-bracket">))</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>facet_wrap()</code> creates separate panels for each region<br>
            ✔ <code>scales = "free_y"</code> allows each panel to have its own y-axis scale<br>
            ✔ The angled x-axis text improves readability when dates are displayed</p>
        </div>
        
        <h4>Step 7: Advanced Visualization with Interactive Elements</h4>
        <div class="code-block">
            <button class="copy-btn" onclick="copyCode(this)">📋 Copy</button>
            <code>
<span class="r-comment"># Install and load packages for interactive plots</span><br>
<span class="r-function">install.packages</span><span class="r-bracket">(</span><span class="r-string">"plotly"</span><span class="r-bracket">)</span><br>
<span class="r-function">library</span><span class="r-bracket">(</span><span class="r-variable">plotly</span><span class="r-bracket">)</span><br>
<span class="r-comment"># Convert ggplot to interactive plot with plotly</span><br>
<span class="r-variable">cases_by_district</span> <span class="r-operator">&lt;-</span> <span class="r-function">ggplot</span><span class="r-bracket">(</span><span class="r-variable">district_totals</span><span class="r-operator">,</span> <span class="r-function">aes</span><span class="r-bracket">(</span><span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-function">reorder</span><span class="r-bracket">(</span><span class="r-variable">district</span><span class="r-operator">,</span> <span class="r-operator">-</span><span class="r-variable">total_cases</span><span class="r-bracket">)</span><span class="r-operator">,</span><br>
                                               <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-variable">total_cases</span><span class="r-operator">,</span><br>
                                               <span class="r-parameter">text</span> <span class="r-operator">=</span> <span class="r-function">paste</span><span class="r-bracket">(</span><span class="r-string">"District:"</span><span class="r-operator">,</span> <span class="r-variable">district</span><span class="r-operator">,</span><br>
                                                           <span class="r-string">"Cases:"</span><span class="r-operator">,</span> <span class="r-variable">total_cases</span><span class="r-bracket">)))</span> <span class="r-operator">+</span><br>
  <span class="r-function">geom_col</span><span class="r-bracket">(</span><span class="r-parameter">fill</span> <span class="r-operator">=</span> <span class="r-string">"steelblue"</span><span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">labs</span><span class="r-bracket">(</span><span class="r-parameter">title</span> <span class="r-operator">=</span> <span class="r-string">"Total Malaria Cases by District"</span><span class="r-operator">,</span> <span class="r-parameter">x</span> <span class="r-operator">=</span> <span class="r-string">"District"</span><span class="r-operator">,</span> <span class="r-parameter">y</span> <span class="r-operator">=</span> <span class="r-string">"Total Cases"</span><span class="r-bracket">)</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme_minimal</span><span class="r-bracket">()</span> <span class="r-operator">+</span><br>
  <span class="r-function">theme</span><span class="r-bracket">(</span><span class="r-parameter">axis.text.x</span> <span class="r-operator">=</span> <span class="r-function">element_text</span><span class="r-bracket">(</span><span class="r-parameter">angle</span> <span class="r-operator">=</span> <span class="r-number">45</span><span class="r-operator">,</span> <span class="r-parameter">hjust</span> <span class="r-operator">=</span> <span class="r-number">1</span><span class="r-bracket">))</span><br>
<span class="r-comment"># Convert to interactive plot</span><br>
<span class="r-variable">interactive_plot</span> <span class="r-operator">&lt;-</span> <span class="r-function">ggplotly</span><span class="r-bracket">(</span><span class="r-variable">cases_by_district</span><span class="r-operator">,</span> <span class="r-parameter">tooltip</span> <span class="r-operator">=</span> <span class="r-string">"text"</span><span class="r-bracket">)</span><br>
<span class="r-variable">interactive_plot</span>
            </code>
        </div>
        
        <div class="explanation-box">
            <h5>🔍 Explanation:</h5>
            <p>✔ <code>plotly</code> converts static ggplot2 visualizations to interactive plots<br>
            ✔ Interactive elements include tooltips, zooming, and panning<br>
            ✔ The <code>tooltip</code> parameter controls what information appears when hovering</p>
        </div>
    </div>

    <div class="note-section">
        <h2>✅ Summary of Week 3</h2>
        <p>By the end of this week, you should:<br>
        ✔ <strong>Know how to generate descriptive statistics</strong> for malaria data<br>
        ✔ <strong>Understand methods for handling missing values</strong> in datasets<br>
        ✔ <strong>Be able to create effective visualizations</strong> using ggplot2<br>
        ✔ <strong>Interpret visual patterns</strong> to identify trends in malaria data</p>
    </div>

    <div class="note-section">
        <h2>📌 Week 3: Exercises – Exploratory Data Analysis & Visualization</h2>
        
        <p>This week's exercises focus on applying descriptive statistics, handling missing values, and creating insightful visualizations of malaria data.</p>
        
        <h3>1️⃣ Descriptive Statistics & Summary Tables</h3>
        
        <h4>Exercise 1.1: Basic Summary Statistics</h4>
        <p>You have a dataset called <code>malaria_surveillance</code> with columns: <code>district</code>, <code>month</code>, <code>year</code>, <code>cases</code>, <code>deaths</code>, <code>population</code></p>
        
        <p><strong>Write R code to:</strong></p>
        <ol>
            <li>Load the dataset and display its structure using <code>str()</code></li>
            <li>Calculate summary statistics for all numeric variables</li>
            <li>Find the district with the highest number of cases</li>
            <li>Calculate the case fatality rate (deaths/cases) for each district</li>
        </ol>
        
        <h4>Exercise 1.2: Group-wise Statistics</h4>
        <p><strong>Write R code to:</strong></p>
        <ol>
            <li>Calculate the average number of cases per year for each district</li>
            <li>Identify the year with the highest total number of cases across all districts</li>
            <li>Calculate the incidence rate (cases per 1000 population) for each district-year combination</li>
            <li>Create a summary table showing the top 5 district-year combinations with the highest incidence rates</li>
        </ol>
        
        <h3>2️⃣ Handling Missing Values</h3>
        
        <h4>Exercise 2.1: Identify Missing Data</h4>
        <p><strong>Write R code to:</strong></p>
        <ol>
            <li>Count how many values are missing in each column</li>
            <li>Calculate the percentage of missing values in each column</li>
            <li>Identify districts with the most missing values</li>
        </ol>
        
        <h4>Exercise 2.2: Handle Missing Values</h4>
        <p><strong>Write R code to:</strong></p>
        <ol>
            <li>Create a new dataset with complete cases only (no missing values)</li>
            <li>Create another dataset where missing <code>cases</code> values are replaced with the mean of the district</li>
            <li>For missing <code>deaths</code> values, replace with 0 and create a new flag column called <code>deaths_imputed</code></li>
        </ol>
        
        <h3>3️⃣ Data Visualization with ggplot2</h3>
        
        <h4>Exercise 3.1: Temporal Trends</h4>
        <p><strong>Write R code to:</strong></p>
        <ol>
            <li>Create a line plot showing the total cases per month across all years</li>
            <li>Make a faceted plot showing yearly trends, with one panel per year</li>
            <li>Create a heatmap where x-axis is month, y-axis is year, and color represents number of cases</li>
        </ol>
        
        <h4>Exercise 3.2: Spatial Comparison</h4>
        <p><strong>Write R code to:</strong></p>
        <ol>
            <li>Create a bar chart showing the total cases by district in descending order</li>
            <li>Make boxplots comparing the distribution of monthly cases across districts</li>
            <li>Create a scatter plot with population on x-axis and average cases on y-axis, with points colored by district</li>
        </ol>
    </div>
</div>

  
